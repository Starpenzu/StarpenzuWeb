{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import NavBar from'../Navbar/NavBar';//import InprogressProps from './InprogressProps';\n// import CompletedProps from './CompletedProps';\n// import CertificateProps from './CertificateProps';\nimport NotificationProps from'./NotificationProp';import AxiosWithAuth from\"../SignUp/AxiosWithAuth\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyNotification(){var _useState=useState(function(){return null;}),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessages=_useState2[1];var _useState3=useState(function(){return''||localStorage.getItem('email_a');}),_useState4=_slicedToArray(_useState3,2),userEmail=_useState4[0],setUserEmail=_useState4[1];// const originalDate = message.created_at;\n// const formattedDate = formatDate(originalDate);\n// const encodedEmail = encodeURIComponent(userEmail);\nlocalStorage.setItem('email_a',userEmail);var email=localStorage.getItem('email_a');useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return AxiosWithAuth.get('/user/me/',{});case 3:response=_context.sent;if(response.status===200||response.status===201){// setUserInfo(response.data.name)\n// setUserGender(response.data.gender)\n// setNick(response.data.username)\n// setDataBaseCourse(response.data.course)\nsetUserEmail(response.data.email);console.log(response.data.email);console.log(response.data.gender);}else{console.log('ori e ti gbale');}// Access the user info from the response data\n// Further processing of the user info\n// ...\n_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){var fetchNotification=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://ec2-18-222-214-188.us-east-2.compute.amazonaws.com/api/user/users/\".concat(email,\"/messages/\"),{headers:{Authorization:\"Token \".concat(localStorage.getItem('ent'))}});case 3:response=_context2.sent;if(response.status===200||response.status===201){setMessages(response.data);console.log(response.data);}else{console.log('ori e ti gbale');}// Access the user info from the response data\n// Further processing of the user info\n// ...\n_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function fetchNotification(){return _ref2.apply(this,arguments);};}();fetchNotification();},[]);// Reverse the order of the messages\nvar reversedMessages=Array.isArray(message)?_toConsumableArray(message).reverse():[];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashcontainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"myProfile margine\",children:\"Notification\"}),/*#__PURE__*/_jsx(\"div\",{className:\"conterr\",children:reversedMessages.map(function(item){return/*#__PURE__*/_jsx(NotificationProps,{notificationText:item.content,notificationDate:item.created_at},item);})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","NavBar","NotificationProps","AxiosWithAuth","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyNotification","_useState","_useState2","_slicedToArray","message","setMessages","_useState3","localStorage","getItem","_useState4","userEmail","setUserEmail","setItem","email","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","status","data","console","log","gender","t0","error","stop","apply","arguments","fetchNotification","_ref2","_callee2","_callee2$","_context2","concat","headers","Authorization","reversedMessages","Array","isArray","_toConsumableArray","reverse","children","className","map","item","notificationText","content","notificationDate","created_at"],"sources":["C:/Users/Dell/WebstormProjects/StarpenzuWeb/src/Components/DashBoard/MyNotification.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport NavBar from '../Navbar/NavBar';\r\n//import InprogressProps from './InprogressProps';\r\n// import CompletedProps from './CompletedProps';\r\n// import CertificateProps from './CertificateProps';\r\nimport NotificationProps from './NotificationProp';\r\nimport AxiosWithAuth from \"../SignUp/AxiosWithAuth\";\r\nimport axios from \"axios\";\r\n\r\nexport default function MyNotification (){\r\n    const [message, setMessages] = useState(() => null);\r\n    const [userEmail, setUserEmail] = useState(() => '' || localStorage.getItem('email_a'));\r\n\r\n    // const originalDate = message.created_at;\r\n    // const formattedDate = formatDate(originalDate);\r\n\r\n    // const encodedEmail = encodeURIComponent(userEmail);\r\n    localStorage.setItem('email_a', userEmail)\r\n    const email = localStorage.getItem('email_a');\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await AxiosWithAuth.get('/user/me/', {\r\n\r\n                });\r\n\r\n                if (response.status === 200 || response.status === 201) {\r\n                    // setUserInfo(response.data.name)\r\n                    // setUserGender(response.data.gender)\r\n                    // setNick(response.data.username)\r\n                    // setDataBaseCourse(response.data.course)\r\n                    setUserEmail(response.data.email)\r\n                    console.log(response.data.email)\r\n                    console.log(response.data.gender)\r\n                }else {\r\n                    console.log('ori e ti gbale')\r\n                }\r\n\r\n\r\n                // Access the user info from the response data\r\n\r\n\r\n                // Further processing of the user info\r\n                // ...\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchNotification = async () => {\r\n            try {\r\n                const response = await axios.get(`http://ec2-18-222-214-188.us-east-2.compute.amazonaws.com/api/user/users/${email}/messages/`, {\r\n                    headers: {\r\n                        Authorization: `Token ${localStorage.getItem('ent')}`\r\n\r\n                    },\r\n                });\r\n\r\n                if (response.status === 200 || response.status === 201) {\r\n                    setMessages(response.data)\r\n                    console.log(response.data)\r\n                }else {\r\n                    console.log('ori e ti gbale')\r\n                }\r\n\r\n\r\n                // Access the user info from the response data\r\n\r\n\r\n                // Further processing of the user info\r\n                // ...\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        fetchNotification();\r\n    }, []);\r\n\r\n\r\n    // Reverse the order of the messages\r\n    const reversedMessages = Array.isArray(message) ? [...message].reverse() : [];\r\n\r\n    return (\r\n        <>\r\n            <NavBar/>\r\n\r\n            <div className=\"dashcontainer\">\r\n                <div className=\"myProfile margine\">\r\n                    Notification\r\n                </div>\r\n\r\n                <div className=\"conterr\">\r\n                    {reversedMessages.map((item) => (\r\n                        <NotificationProps key={item} notificationText={item.content} notificationDate={item.created_at}/>\r\n                    ))}\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}