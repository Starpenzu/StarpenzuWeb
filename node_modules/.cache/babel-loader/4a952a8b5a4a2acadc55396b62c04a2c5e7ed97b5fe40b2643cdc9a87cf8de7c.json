{"ast":null,"code":"import _objectSpread from \"C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { moveHighlight, listReducer, ListActionTypes } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport default function selectReducer(state, action) {\n  var open = state.open;\n  var selectionMode = action.context.selectionMode;\n  if (action.type === SelectActionTypes.buttonClick) {\n    var _state$selectedValues;\n    var itemToHighlight = (_state$selectedValues = state.selectedValues[0]) != null ? _state$selectedValues : moveHighlight(null, 'start', action.context);\n    return _objectSpread(_objectSpread({}, state), {}, {\n      open: !open,\n      highlightedValue: !open ? itemToHighlight : null\n    });\n  }\n  var newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (state.open) {\n        if (action.event.key === 'Escape') {\n          return _objectSpread(_objectSpread({}, newState), {}, {\n            open: false\n          });\n        }\n        if (selectionMode === 'single' && (action.event.key === 'Enter' || action.event.key === ' ')) {\n          return _objectSpread(_objectSpread({}, newState), {}, {\n            open: false\n          });\n        }\n      } else {\n        if (action.event.key === 'Enter' || action.event.key === ' ' || action.event.key === 'ArrowDown') {\n          var _state$selectedValues2;\n          return _objectSpread(_objectSpread({}, state), {}, {\n            open: true,\n            highlightedValue: (_state$selectedValues2 = state.selectedValues[0]) != null ? _state$selectedValues2 : moveHighlight(null, 'start', action.context)\n          });\n        }\n        if (action.event.key === 'ArrowUp') {\n          var _state$selectedValues3;\n          return _objectSpread(_objectSpread({}, state), {}, {\n            open: true,\n            highlightedValue: (_state$selectedValues3 = state.selectedValues[0]) != null ? _state$selectedValues3 : moveHighlight(null, 'end', action.context)\n          });\n        }\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return _objectSpread(_objectSpread({}, newState), {}, {\n          open: false\n        });\n      }\n      break;\n    case ListActionTypes.blur:\n      return _objectSpread(_objectSpread({}, newState), {}, {\n        open: false\n      });\n    default:\n      return newState;\n  }\n  return newState;\n}","map":{"version":3,"names":["moveHighlight","listReducer","ListActionTypes","SelectActionTypes","selectReducer","state","action","open","selectionMode","context","type","buttonClick","_state$selectedValues","itemToHighlight","selectedValues","_objectSpread","highlightedValue","newState","keyDown","event","key","_state$selectedValues2","_state$selectedValues3","itemClick","blur"],"sources":["C:/Users/Dell/WebstormProjects/StarpenzuWeb/node_modules/@mui/base/useSelect/selectReducer.js"],"sourcesContent":["import { moveHighlight, listReducer, ListActionTypes } from '../useList';\nimport { SelectActionTypes } from './useSelect.types';\nexport default function selectReducer(state, action) {\n  const {\n    open\n  } = state;\n  const {\n    context: {\n      selectionMode\n    }\n  } = action;\n  if (action.type === SelectActionTypes.buttonClick) {\n    var _state$selectedValues;\n    const itemToHighlight = (_state$selectedValues = state.selectedValues[0]) != null ? _state$selectedValues : moveHighlight(null, 'start', action.context);\n    return {\n      ...state,\n      open: !open,\n      highlightedValue: !open ? itemToHighlight : null\n    };\n  }\n  const newState = listReducer(state, action);\n  switch (action.type) {\n    case ListActionTypes.keyDown:\n      if (state.open) {\n        if (action.event.key === 'Escape') {\n          return {\n            ...newState,\n            open: false\n          };\n        }\n        if (selectionMode === 'single' && (action.event.key === 'Enter' || action.event.key === ' ')) {\n          return {\n            ...newState,\n            open: false\n          };\n        }\n      } else {\n        if (action.event.key === 'Enter' || action.event.key === ' ' || action.event.key === 'ArrowDown') {\n          var _state$selectedValues2;\n          return {\n            ...state,\n            open: true,\n            highlightedValue: (_state$selectedValues2 = state.selectedValues[0]) != null ? _state$selectedValues2 : moveHighlight(null, 'start', action.context)\n          };\n        }\n        if (action.event.key === 'ArrowUp') {\n          var _state$selectedValues3;\n          return {\n            ...state,\n            open: true,\n            highlightedValue: (_state$selectedValues3 = state.selectedValues[0]) != null ? _state$selectedValues3 : moveHighlight(null, 'end', action.context)\n          };\n        }\n      }\n      break;\n    case ListActionTypes.itemClick:\n      if (selectionMode === 'single') {\n        return {\n          ...newState,\n          open: false\n        };\n      }\n      break;\n    case ListActionTypes.blur:\n      return {\n        ...newState,\n        open: false\n      };\n    default:\n      return newState;\n  }\n  return newState;\n}"],"mappings":";AAAA,SAASA,aAAa,EAAEC,WAAW,EAAEC,eAAe,QAAQ,YAAY;AACxE,SAASC,iBAAiB,QAAQ,mBAAmB;AACrD,eAAe,SAASC,aAAaA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACnD,IACEC,IAAI,GACFF,KAAK,CADPE,IAAI;EAEN,IAEIC,aAAa,GAEbF,MAAM,CAHRG,OAAO,CACLD,aAAa;EAGjB,IAAIF,MAAM,CAACI,IAAI,KAAKP,iBAAiB,CAACQ,WAAW,EAAE;IACjD,IAAIC,qBAAqB;IACzB,IAAMC,eAAe,GAAG,CAACD,qBAAqB,GAAGP,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGF,qBAAqB,GAAGZ,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEM,MAAM,CAACG,OAAO,CAAC;IACxJ,OAAAM,aAAA,CAAAA,aAAA,KACKV,KAAK;MACRE,IAAI,EAAE,CAACA,IAAI;MACXS,gBAAgB,EAAE,CAACT,IAAI,GAAGM,eAAe,GAAG;IAAI;EAEpD;EACA,IAAMI,QAAQ,GAAGhB,WAAW,CAACI,KAAK,EAAEC,MAAM,CAAC;EAC3C,QAAQA,MAAM,CAACI,IAAI;IACjB,KAAKR,eAAe,CAACgB,OAAO;MAC1B,IAAIb,KAAK,CAACE,IAAI,EAAE;QACd,IAAID,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,QAAQ,EAAE;UACjC,OAAAL,aAAA,CAAAA,aAAA,KACKE,QAAQ;YACXV,IAAI,EAAE;UAAK;QAEf;QACA,IAAIC,aAAa,KAAK,QAAQ,KAAKF,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,OAAO,IAAId,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,GAAG,CAAC,EAAE;UAC5F,OAAAL,aAAA,CAAAA,aAAA,KACKE,QAAQ;YACXV,IAAI,EAAE;UAAK;QAEf;MACF,CAAC,MAAM;QACL,IAAID,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,OAAO,IAAId,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,GAAG,IAAId,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,WAAW,EAAE;UAChG,IAAIC,sBAAsB;UAC1B,OAAAN,aAAA,CAAAA,aAAA,KACKV,KAAK;YACRE,IAAI,EAAE,IAAI;YACVS,gBAAgB,EAAE,CAACK,sBAAsB,GAAGhB,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGO,sBAAsB,GAAGrB,aAAa,CAAC,IAAI,EAAE,OAAO,EAAEM,MAAM,CAACG,OAAO;UAAC;QAExJ;QACA,IAAIH,MAAM,CAACa,KAAK,CAACC,GAAG,KAAK,SAAS,EAAE;UAClC,IAAIE,sBAAsB;UAC1B,OAAAP,aAAA,CAAAA,aAAA,KACKV,KAAK;YACRE,IAAI,EAAE,IAAI;YACVS,gBAAgB,EAAE,CAACM,sBAAsB,GAAGjB,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,GAAGQ,sBAAsB,GAAGtB,aAAa,CAAC,IAAI,EAAE,KAAK,EAAEM,MAAM,CAACG,OAAO;UAAC;QAEtJ;MACF;MACA;IACF,KAAKP,eAAe,CAACqB,SAAS;MAC5B,IAAIf,aAAa,KAAK,QAAQ,EAAE;QAC9B,OAAAO,aAAA,CAAAA,aAAA,KACKE,QAAQ;UACXV,IAAI,EAAE;QAAK;MAEf;MACA;IACF,KAAKL,eAAe,CAACsB,IAAI;MACvB,OAAAT,aAAA,CAAAA,aAAA,KACKE,QAAQ;QACXV,IAAI,EAAE;MAAK;IAEf;MACE,OAAOU,QAAQ;EACnB;EACA,OAAOA,QAAQ;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}